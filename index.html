<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸”ë¡œê·¸ HTML ì—ë””í„° Pro Master â˜…â˜…â˜…â˜…â˜…</title>
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- Libraries (CDN Only) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/matchesonscrollbar.css">

    <style>
        /* ============ Professional UI Design System ============ */
        :root {
            --primary: #6366f1;
            --primary-glow: rgba(99, 102, 241, 0.4);
            --bg-dark: #0f172a;
            --bg-darker: #020617;
            --bg-light: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #334155;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode {
            --bg-dark: #000000;
            --bg-darker: #111111;
            --bg-light: #222222;
            --border: #444444;
        }

        body {
            font-family: 'Inter', 'Segoe UI', 'Malgun Gothic', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
            color: var(--text-primary);
            height: 100vh;
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* ============ Header & Toolbar ============ */
        .header {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(15px);
            border-bottom: 2px solid var(--primary);
            padding: 0.6rem 1.25rem;
            z-index: 100;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.6rem;
        }

        .header h1 {
            font-size: 1.1rem;
            font-weight: 800;
            letter-spacing: -0.5px;
            background: linear-gradient(135deg, #818cf8, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .btn {
            padding: 0.4rem 0.75rem;
            border: none;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-1.5px);
            filter: brightness(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-secondary {
            background: var(--bg-light);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-icon {
            padding: 0.4rem;
            min-width: 34px;
            justify-content: center;
            font-size: 1.1rem;
        }

        .toolbar-group {
            display: flex;
            background: rgba(255, 255, 255, 0.06);
            padding: 2px;
            border-radius: 10px;
            gap: 2px;
        }

        .separator {
            width: 1.5px;
            height: 18px;
            background: var(--border);
            margin: 0 0.3rem;
        }

        /* ============ Workspace ============ */
        .workspace {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        .pane {
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .pane-header {
            background: var(--bg-darker);
            padding: 0.4rem 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .zoom-box {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 6px;
        }

        .zoom-val {
            min-width: 38px;
            text-align: center;
            font-family: monospace;
            font-size: 0.75rem;
        }

        #editor-pane {
            width: 50%;
            border-right: 2px solid var(--border);
        }

        .CodeMirror {
            height: 100% !important;
            font-size: 14px;
            font-family: 'Fira Code', 'Consolas', monospace;
            transition: background 0.3s;
        }

        /* Editor color adjustment based on mode */
        body:not(.dark-mode) .CodeMirror {
            background: #ffffff !important;
            color: #000 !important;
        }

        body.dark-mode .CodeMirror {
            background: #010409 !important;
            color: #f8f8f2 !important;
        }

        body.dark-mode .CodeMirror-gutters {
            background: #010409 !important;
            border-right: 1px solid #333;
        }

        body.dark-mode .CodeMirror-linenumber {
            color: #888 !important;
        }

        body.dark-mode .cm-tag {
            color: #f92672 !important;
        }

        body.dark-mode .cm-attribute {
            color: #a6e22e !important;
        }

        body.dark-mode .cm-string {
            color: #e6db74 !important;
        }

        body.dark-mode .cm-atom {
            color: #ae81ff !important;
        }

        body.dark-mode .cm-comment {
            color: #75715e !important;
        }

        body.dark-mode .cm-meta {
            color: #f8f8f2 !important;
        }

        body.dark-mode .cm-qualifier {
            color: #a6e22e !important;
        }

        body.dark-mode .cm-builtin {
            color: #66d9ef !important;
        }

        body.dark-mode .cm-bracket {
            color: #f8f8f2 !important;
        }

        body.dark-mode .cm-keyword {
            color: #f92672 !important;
        }

        .cm-highlight-flash {
            background: rgba(255, 235, 59, 0.4) !important;
            color: #fff !important;
            text-shadow: 0 0 10px #ffeb3b;
        }

        #preview-pane {
            width: 50%;
            background: #f8fafc;
        }

        .preview-content {
            flex: 1;
            overflow: auto;
            display: flex;
            justify-content: center;
            padding: 2.5rem;
            background: #f1f5f9;
        }

        .preview-viewport {
            background: white;
            transform-origin: top center;
            transition: var(--transition);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        iframe#preview-frame {
            width: 100%;
            min-height: 100vh;
            border: none;
            display: block;
        }

        #resizer {
            width: 6px;
            background: var(--border);
            cursor: col-resize;
            transition: background 0.2s;
            z-index: 50;
        }

        #resizer:hover {
            background: var(--primary);
        }

        /* ============ Modals ============ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-card {
            background: var(--bg-dark);
            border-radius: 20px;
            padding: 2rem;
            max-width: 650px;
            width: 92%;
            border: 1px solid var(--border);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.6);
        }

        .modal-card h2 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .field {
            margin-bottom: 1rem;
        }

        .field label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 700;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .field input,
        .field select,
        .field textarea {
            width: 100%;
            padding: 0.7rem;
            border: 2px solid var(--border);
            border-radius: 10px;
            background: var(--bg-darker);
            color: var(--text-primary);
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 10px;
            max-height: 400px;
            overflow-y: auto;
        }

        .theme-card {
            background: var(--bg-darker);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 0.8rem;
            cursor: pointer;
            text-align: center;
            transition: var(--transition);
        }

        .theme-card.active {
            border-color: var(--primary);
            background: var(--bg-light);
        }

        .color-dot {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 6px;
        }

        #toast {
            position: fixed;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%) translateY(120px);
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: 100px;
            font-weight: 800;
            transition: transform 0.4s;
            z-index: 9999;
        }

        #toast.show {
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>

<body class="light-mode">
    <header class="header">
        <div class="header-top">
            <h1>ğŸ¨ Blog HTML Editor <span style="font-size:0.75rem; opacity:0.8;">PRO MASTER v2.1</span></h1>
            <div class="main-actions">
                <button class="btn btn-secondary btn-icon" id="dark-toggle" onclick="toggleDarkMode()">â˜€ï¸</button>
                <div class="separator"></div>
                <button class="btn btn-primary" onclick="copyHTML()">ğŸ“‹ ì „ì²´ ë³µì‚¬</button>
                <button class="btn btn-success" onclick="saveToLocal()">ğŸ’¾ ì €ì¥</button>
                <button class="btn btn-danger" onclick="resetEditor()">ğŸ”„ ë¦¬ì…‹</button>
            </div>
        </div>
        <div class="toolbar">
            <div class="toolbar-group">
                <button class="btn btn-secondary btn-icon" title="Undo" onclick="editor.undo()">âŸ²</button>
                <button class="btn btn-secondary btn-icon" title="Redo" onclick="editor.redo()">âŸ³</button>
            </div>
            <div class="separator"></div>
            <button class="btn btn-primary" onclick="openModal('themes')">ğŸŒˆ í…Œë§ˆ ê°¤ëŸ¬ë¦¬</button>
            <button class="btn btn-secondary" onclick="openModal('toc')">ğŸ“‘ ìë™ ëª©ì°¨</button>
            <button class="btn btn-secondary" onclick="openModal('seo')">ğŸ” SEO JSON-LD</button>
            <div class="separator"></div>
            <div class="toolbar-group">
                <button class="btn btn-secondary" onclick="openModal('h')">H#</button>
                <button class="btn btn-secondary" onclick="openModal('img')">ğŸ–¼ï¸ ì´ë¯¸ì§€</button>
                <button class="btn btn-secondary" onclick="openModal('url')">ğŸ”— ë§í¬</button>
                <button class="btn btn-secondary" onclick="openModal('cta')">ğŸ›’ ì¿ íŒ¡</button>
                <button class="btn btn-secondary" onclick="openModal('br')">â†©ï¸ BR</button>
                <button class="btn btn-secondary" onclick="insertFairTrade()">âš–ï¸ ê³µì •</button>
                <button class="btn btn-secondary btn-icon" title="Table" onclick="openModal('tbl')">â–¦</button>
            </div>
        </div>
    </header>

    <main class="workspace">
        <section class="pane" id="editor-pane">
            <div class="pane-header"><span>HTML Code</span>
                <div class="controls">
                    <div class="zoom-box">
                        <button class="btn" style="padding:2px 8px;" onclick="adjustFont(-1)">-</button>
                        <span class="zoom-val" id="font-size-val">14px</span>
                        <button class="btn" style="padding:2px 8px;" onclick="adjustFont(1)">+</button>
                    </div>
                </div>
            </div>
            <textarea id="cm-textarea"></textarea>
        </section>
        <div id="resizer"></div>
        <section class="pane" id="preview-pane">
            <div class="pane-header"><span>Preview</span>
                <div class="controls">
                    <div class="zoom-box">
                        <button class="btn" style="padding:2px 8px;" onclick="adjustScale(-0.1)">-</button>
                        <span class="zoom-val" id="scale-val">100%</span>
                        <button class="btn" style="padding:2px 8px;" onclick="adjustScale(0.1)">+</button>
                    </div>
                    <div class="toolbar-group">
                        <button class="btn btn-secondary btn-icon view-opt active" id="view-100"
                            onclick="setVWidth('100%', '100')">ğŸ–¥ï¸</button>
                        <button class="btn btn-secondary btn-icon view-opt" id="view-768"
                            onclick="setVWidth('768px', '768')">ğŸ“±</button>
                        <button class="btn btn-secondary btn-icon view-opt" id="view-375"
                            onclick="setVWidth('375px', '375')">ğŸ¤³</button>
                    </div>
                </div>
            </div>
            <div class="preview-content">
                <div class="preview-viewport" id="viewport"><iframe id="preview-frame"></iframe></div>
            </div>
        </section>
    </main>

    <div id="toast">Copy Success!</div>

    <!-- Modals -->
    <div class="modal" id="modal-themes">
        <div class="modal-card">
            <h2>ğŸŒˆ í…Œë§ˆ ê°¤ëŸ¬ë¦¬</h2>
            <div class="theme-grid" id="theme-grid"></div>
            <div style="margin-top:1.5rem;"><button class="btn btn-secondary" style="width:100%;"
                    onclick="closeModal('themes')">ë‹«ê¸°</button></div>
        </div>
    </div>
    <div class="modal" id="modal-toc">
        <div class="modal-card">
            <h2>ğŸ“‘ ëª©ì°¨ ìƒì„±</h2>
            <div class="field"><label>ìŠ¤íƒ€ì¼</label><select id="toc-style">
                    <option value="box">Modern Box</option>
                    <option value="list">Minimal List</option>
                </select></div><button class="btn btn-primary" style="width:100%;" onclick="generateTOC()">ìƒì„± ë°
                ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-seo">
        <div class="modal-card">
            <h2>ğŸ” JSON-LD</h2>
            <div class="field"><label>íƒ€ì…</label><select id="seo-type">
                    <option value="Article">Article</option>
                    <option value="FAQPage">FAQ</option>
                </select></div>
            <div id="seo-p"
                style="background:#000; color:#4ade80; padding:8px; font-size:0.75rem; font-family:monospace; margin-bottom:1rem;">
            </div><button class="btn btn-success" id="seo-btn" onclick="makeJSONLD()">ìƒì„±</button><button
                class="btn btn-primary" id="seo-ins" style="display:none;" onclick="insJSONLD()">ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-h">
        <div class="modal-card">
            <h2>ì œëª© ì‚½ì…</h2>
            <div class="field"><label>ë ˆë²¨</label><select id="h-lv">
                    <option value="2">H2</option>
                    <option value="3">H3</option>
                </select></div>
            <div class="field"><label>ë‚´ìš©</label><input type="text" id="h-txt"></div><button class="btn btn-primary"
                style="width:100%;" onclick="insH()">ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-img">
        <div class="modal-card">
            <h2>ì´ë¯¸ì§€ ì‚½ì…</h2>
            <div class="field"><label>URL</label><input type="text" id="img-url"></div>
            <div class="field"><label>Alt</label><input type="text" id="img-alt" value="ì´ë¯¸ì§€"></div><button
                class="btn btn-primary" style="width:100%;" onclick="insImg()">ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-cta">
        <div class="modal-card">
            <h2>ì¿ íŒ¡ ë²„íŠ¼</h2>
            <div class="field"><label>ë¬¸êµ¬</label><input type="text" id="cta-txt" value="ì¿ íŒ¡ì—ì„œ í™•ì¸í•˜ê¸°"></div>
            <div class="field"><label>URL</label><input type="text" id="cta-url"></div><button class="btn btn-primary"
                style="width:100%;" onclick="insCTA()">ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-br">
        <div class="modal-card">
            <h2>ì¤„ë°”ê¿ˆ</h2>
            <div class="field"><label>ê°œìˆ˜</label><select id="br-cnt">
                    <option value="2">2ì¤„</option>
                    <option value="1">1ì¤„</option>
                </select></div><button class="btn btn-primary" style="width:100%;" onclick="insBR()">ì‚½ì…</button>
        </div>
    </div>
    <div class="modal" id="modal-tbl">
        <div class="modal-card">
            <h2>í…Œì´ë¸”</h2>
            <div style="display:flex; gap:10px;"><input type="number" id="tbl-r" value="3" placeholder="í–‰"><input
                    type="number" id="tbl-c" value="2" placeholder="ì—´"></div><button class="btn btn-primary"
                style="width:100%; margin-top:1rem;" onclick="insTbl()">ì‚½ì…</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/searchcursor.min.js"></script>

    <script>
        const THEMES = [
            { n: 'ì—ë©”ë„ë“œ', h2: '#2ecc71', h3: '#27ae60', m: '#E8F5E9', c: 'linear-gradient(135deg,#ff6f00,#ff8f00)' },
            { n: 'ì˜¤ì…˜ë¸”ë£¨', h2: '#3498db', h3: '#2980b9', m: '#e3f2fd', c: 'linear-gradient(135deg,#3498db,#2c3e50)' },
            { n: 'ì„ ì…‹ë¡œì¦ˆ', h2: '#e91e63', h3: '#c2185b', m: '#fce4ec', c: 'linear-gradient(135deg,#ff4081,#c2185b)' },
            { n: 'ë¡œì–„í¼í”Œ', h2: '#9b59b6', h3: '#8e44ad', m: '#f3e5f5', c: 'linear-gradient(135deg,#8e44ad,#34495e)' },
            { n: 'ë”¥ì˜¤ë Œì§€', h2: '#e67e22', h3: '#d35400', m: '#fff3e0', c: 'linear-gradient(135deg,#e67e22,#2c3e50)' },
            { n: 'í¬ë ˆìŠ¤íŠ¸', h2: '#16a085', h3: '#118d73', m: '#e8f3f1', c: 'linear-gradient(135deg,#16a085,#2c3e50)' },
            { n: 'ê³¨ë“œì²´ì¸', h2: '#f1c40f', h3: '#f39c12', m: '#fef9e7', c: 'linear-gradient(135deg,#1c1c1c,#f39c12)' },
            { n: 'ì°¨ì½œë…¸ì•„', h2: '#34495e', h3: '#2c3e50', m: '#ebf5fb', c: 'linear-gradient(135deg,#7f8c8d,#2c3e50)' },
            { n: 'ë„¤ì˜¨ì‚¬ì´ë²„', h2: '#00ffcc', h3: '#00d4aa', m: '#e0fff9', c: 'linear-gradient(135deg,#6600ff,#00ffcc)' },
            { n: 'ì²´ë¦¬ì†Œë‹¤', h2: '#ff4757', h3: '#e84118', m: '#ffecef', c: 'linear-gradient(135deg,#ff4757,#2f3542)' },
            { n: 'ë¼ë²¤ë”', h2: '#a29bfe', h3: '#6c5ce7', m: '#f0efff', c: 'linear-gradient(135deg,#a29bfe,#6c5ce7)' },
            { n: 'ë¯¼íŠ¸í”„ë ˆì‹œ', h2: '#55efc4', h3: '#00b894', m: '#e8fdf8', c: 'linear-gradient(135deg,#55efc4,#00b894)' },
            { n: 'ìŠ¤ì¹´ì´', h2: '#0984e3', h3: '#74b9ff', m: '#e1f5ff', c: 'linear-gradient(135deg,#0984e3,#74b9ff)' },
            { n: 'ë ˆë“œì™€ì¸', h2: '#c0392b', h3: '#96281b', m: '#f9ebea', c: 'linear-gradient(135deg,#c0392b,#2c3e50)' },
            { n: 'ìŠ¬ë ˆì´íŠ¸', h2: '#95a5a6', h3: '#7f8c8d', m: '#f2f4f4', c: 'linear-gradient(135deg,#95a5a6,#2c3e50)' },
            { n: 'ë¼ì„', h2: '#badc58', h3: '#6ab04c', m: '#f4f9e9', c: 'linear-gradient(135deg,#badc58,#6ab04c)' },
            { n: 'í”¼ì¹˜í•‘í¬', h2: '#ffbe76', h3: '#f0932b', m: '#fff4e6', c: 'linear-gradient(135deg,#ffbe76,#f0932b)' },
            { n: 'ë² ë¦¬í€ì¹˜', h2: '#ff7979', h3: '#eb4d4b', m: '#ffeded', c: 'linear-gradient(135deg,#ff7979,#eb4d4b)' },
            { n: 'ì¸ë””ê³ ', h2: '#4834d4', h3: '#686de0', m: '#ededff', c: 'linear-gradient(135deg,#4834d4,#686de0)' },
            { n: 'ì‹œì•ˆí…Œì¼', h2: '#22a6b3', h3: '#7ed6df', m: '#e0faff', c: 'linear-gradient(135deg,#22a6b3,#7ed6df)' }
        ];

        let state = {
            font: parseInt(localStorage.getItem('f')) || 14,
            scale: parseFloat(localStorage.getItem('s')) || 1.0,
            dark: localStorage.getItem('d') === 'true',
            v: localStorage.getItem('v') || '100',
            t: parseInt(localStorage.getItem('t')) || 0,
            jsonld: ''
        };

        const editor = CodeMirror.fromTextArea(document.getElementById('cm-textarea'), {
            mode: 'htmlmixed', theme: 'monokai', lineNumbers: true, lineWrapping: true,
            indentUnit: 2, tabSize: 2, matchBrackets: true, extraKeys: { "Ctrl-Z": "undo", "Ctrl-Y": "redo" }
        });

        function init() {
            editor.setValue(localStorage.getItem('c') || getDefault());
            apply(); renderThemes(); setupRes();
            editor.on('change', () => { clearTimeout(this.tid); this.tid = setTimeout(() => { render(); localStorage.setItem('c', editor.getValue()); }, 400); });
            render();
        }

        function apply() {
            document.body.classList.toggle('dark-mode', state.dark);
            document.getElementById('dark-toggle').textContent = state.dark ? 'â˜€ï¸' : 'ğŸŒ™';
            editor.setOption('theme', state.dark ? 'monokai' : 'default');
            document.querySelector('.CodeMirror').style.fontSize = state.font + 'px';
            document.getElementById('font-size-val').textContent = state.font + 'px';
            document.getElementById('viewport').style.transform = `scale(${state.scale})`;
            document.getElementById('scale-val').textContent = Math.round(state.scale * 100) + '%';
            setVWidth(state.v === '100' ? '100%' : state.v + 'px', state.v);
        }

        function toggleDarkMode() { state.dark = !state.dark; localStorage.setItem('d', state.dark); apply(); render(); }
        function adjustFont(d) { state.font = Math.min(24, Math.max(12, state.font + d)); localStorage.setItem('f', state.font); apply(); }
        function adjustScale(d) { state.scale = Math.min(2, Math.max(0.5, state.scale + d)); localStorage.setItem('s', state.scale); apply(); }
        function setVWidth(w, m) { state.v = m; localStorage.setItem('v', m); document.getElementById('viewport').style.width = w; document.querySelectorAll('.view-opt').forEach(b => b.classList.toggle('active', b.id === 'view-' + m)); }

        function render() {
            const doc = document.getElementById('preview-frame').contentDocument;
            const code = editor.getValue();
            const t = THEMES[state.t];
            const css = `<style>
                body { font-family: 'Segoe UI', sans-serif; line-height: 1.8; color: #333; margin: 0; padding: 20px; }
                .wrap { max-width: 800px; margin: 0 auto; }
                br { display: block; margin: 15px 0; content: ""; }
                img { max-width: 100%; width: 100%; height: auto; border-radius: 12px; display: block; margin: 25px auto; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; }
                h2 { color: ${t.h2}; border-bottom: 3px solid ${t.h2}; padding-bottom: 10px; margin: 55px 0 25px 0; font-size: 1.6rem; }
                h3 { color: ${t.h3}; margin: 35px 0 15px 0; font-size: 1.3rem; border-left: 5px solid ${t.h3}; padding-left: 10px; }
                a { color: ${t.h2}; text-decoration: none; font-weight: 600; }
                .meta-box { background: ${t.m}; padding: 25px; border-radius: 10px; margin-bottom: 35px; border: 1px solid #ddd; }
                .cta-btn { display: inline-flex; align-items: center; justify-content: center; width: 100%; max-width: 600px; background: ${t.c}; color: #fff !important; padding: 18px; border-radius: 40px; font-weight: 800; font-size: 18px; text-decoration: none !important; box-shadow: 0 10px 20px rgba(0,0,0,0.15); transition: 0.3s; margin: 20px auto; }
                .cta-btn:hover { transform: translateY(-5px); filter: brightness(1.1); }
                ${state.dark ? 'body{background:#1e1e1e;color:#ddd;}.meta-box{background:#2a2a2a;border-color:#444;}' : ''}
            </style>`;
            doc.open(); doc.write(`${css}<body><div class="wrap">${code}</div></body>`); doc.close();
            doc.body.onclick = (e) => {
                if (e.target === doc.body || e.target.classList.contains('wrap')) { openModal('img'); return; }
                const txt = e.target.innerText?.trim().slice(0, 20) || e.target.src;
                if (!txt) return;
                const cur = editor.getSearchCursor(txt, { line: 0, ch: 0 });
                if (cur.findNext()) { editor.setSelection(cur.from(), cur.to()); editor.scrollIntoView(cur.from(), 250); editor.focus(); }
            };
        }

        function renderThemes() {
            const g = document.getElementById('theme-grid'); g.innerHTML = '';
            THEMES.forEach((t, i) => {
                const c = document.createElement('div'); c.className = 'theme-card' + (i === state.t ? ' active' : '');
                c.innerHTML = `<div class="color-dot" style="background:${t.h2}"></div><div style="font-size:0.7rem;font-weight:800;">${t.n}</div>`;
                c.onclick = () => { state.t = i; localStorage.setItem('t', i); renderThemes(); render(); };
                g.appendChild(c);
            });
        }

        function openModal(id) { document.getElementById('modal-' + id).classList.add('active'); }
        function closeModal(id) { document.getElementById('modal-' + id).classList.remove('active'); }
        function insAt(t) { editor.replaceRange(t + '\n', editor.getCursor()); editor.focus(); }
        function insH() { insAt(`<h${document.getElementById('h-lv').value}>${document.getElementById('h-txt').value}</h${document.getElementById('h-lv').value}>`); closeModal('h'); }
        function insImg() { insAt(`<img src="${document.getElementById('img-url').value}" alt="${document.getElementById('img-alt').value}">`); closeModal('img'); }
        function insCTA() { insAt(`<a href="${document.getElementById('cta-url').value}" class="cta-btn">ğŸ›’ ${document.getElementById('cta-txt').value} â€º</a>`); closeModal('cta'); }
        function insBR() { insAt('<br>'.repeat(document.getElementById('br-cnt').value)); closeModal('br'); }
        function insTbl() {
            let h = '<table><thead><tr>';
            for (let j = 0; j < document.getElementById('tbl-c').value; j++) h += '<th>ì œëª©</th>';
            h += '</tr></thead><tbody>';
            for (let i = 0; i < document.getElementById('tbl-r').value; i++) { h += '<tr>'; for (let j = 0; j < document.getElementById('tbl-c').value; j++)h += '<td>ë‚´ìš©</td>'; h += '</tr>'; }
            h += '</tbody></table>'; insAt(h); closeModal('tbl');
        }
        function generateTOC() {
            const hs = document.getElementById('preview-frame').contentDocument.querySelectorAll('h2, h3');
            if (!hs.length) return;
            let t = '<div class="meta-box"><strong>ğŸ“‘ ëª©ì°¨</strong><br>';
            hs.forEach((h, i) => { t += `<a href="#s${i + 1}" style="display:block;margin-top:5px;padding-left:${h.tagName === 'H3' ? '20px' : '0'};">- ${h.innerText}</a>`; });
            t += '</div>';
            let c = editor.getValue(); hs.forEach((h, i) => { const tag = `<${h.tagName.toLowerCase()}`; c = c.replace(new RegExp(tag + '(?![^>]*id=)', 'i'), `${tag} id="s${i + 1}"`); });
            editor.setValue(c); insAt(t); closeModal('toc');
        }
        function makeJSONLD() { state.jsonld = `<script type="application/ld+json">${JSON.stringify({ "@context": "https://schema.org", "@type": document.getElementById('seo-type').value, "headline": "ì œëª©" })}<\/script>`; document.getElementById('seo-p').innerText = state.jsonld; document.getElementById('seo-ins').style.display = 'block'; }
        function insJSONLD() { insAt(state.jsonld); closeModal('seo'); }
        function copyHTML() { navigator.clipboard.writeText(editor.getValue()).then(() => toast('Copied!')); }
        function saveToLocal() { localStorage.setItem('c', editor.getValue()); toast('Saved!'); }
        function resetEditor() { if (confirm('Reset?')) { editor.setValue(getDefault()); render(); } }
        function toast(m) { const t = document.getElementById('toast'); t.textContent = m; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 2000); }
        function setupRes() {
            const r = document.getElementById('resizer'), lp = document.getElementById('editor-pane'), rp = document.getElementById('preview-pane');
            r.onmousedown = (e) => { const x = e.clientX, w = lp.offsetWidth; document.onmousemove = (me) => { const p = (w + (me.clientX - x)) / r.parentNode.offsetWidth * 100; lp.style.width = p + '%'; rp.style.width = (100 - p) + '%'; }; document.onmouseup = () => { document.onmousemove = null; editor.refresh(); }; };
        }
        function getDefault() {
            return `<p style="background-color: #E8F5E9; padding: 20px; border-radius: 8px; font-size: 15px; margin-bottom: 35px; border: 1px solid #dcdcdc; line-height: 1.8;">
    <strong>ISA ê³„ì¢Œ</strong>ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”? 2026ë…„ ê¸°ì¤€, ì£¼ì‹ê³¼ ETF íˆ¬ìì˜ í•„ìˆ˜í’ˆì´ ëœ ì¤‘ê°œí˜• ISAì˜ ë¹„ê³¼ì„¸ í˜œíƒê³¼ ì ˆì„¸ íš¨ê³¼ë¥¼ ì™„ë²½í•˜ê²Œ ë¶„ì„í–ˆìŠµë‹ˆë‹¤. ë‚¨ë“¤ ë‹¤ ë°›ëŠ” ì„¸ê¸ˆ í˜œíƒ, ë‹¹ì‹ ë§Œ ë†“ì¹˜ê³  ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</p>
<p style="font-size: 16px; line-height: 1.8; margin-bottom: 30px; font-weight: 600; color: #2c3e50;">
    ë°°ë‹¹ê¸ˆ 1,000ë§Œ ì› ë°›ì•˜ì„ ë•Œ, ì¼ë°˜ ê³„ì¢ŒëŠ” 154ë§Œ ì›ì„ ì„¸ê¸ˆìœ¼ë¡œ ëƒ…ë‹ˆë‹¤. ğŸ’¸ í•˜ì§€ë§Œ ISA ê³„ì¢ŒëŠ” ì„¸ê¸ˆì´ '0ì›'ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë˜‘ê°™ì€ ìˆ˜ìµì„ ë‚´ê³ ë„ ì„¸ê¸ˆ ë•Œë¬¸ì— ìµœì¢… ìì‚°ì´ ìˆ˜ì²œë§Œ ì› ì°¨ì´ ë‚˜ëŠ” ì´ìœ , ë°”ë¡œ ì´ í†µì¥ í•˜ë‚˜ ë•Œë¬¸ì…ë‹ˆë‹¤.
</p>
<div style="background-color: #f8f9fa; padding: 25px; border-radius: 10px; margin-bottom: 40px;">
    <strong>ğŸ“‘ ëª©ì°¨</strong>
    <ol style="margin: 0; padding-left: 20px; line-height: 2.0;">
      <li><a href="#section1">ISA ê³„ì¢Œ, ë„ëŒ€ì²´ ì™œ í•„ìˆ˜ì¸ê°€?</a></li>
      <li><a href="#section2">ì¤‘ê°œí˜• ISA vs ì‹ íƒí˜•/ì¼ì„í˜• ì°¨ì´ì </a></li>
      <li><a href="#section3">âš ï¸ 3ë…„ ì˜ë¬´ ê°€ì… ê¸°ê°„ì˜ í•¨ì •</a></li>
    </ol>
</div>
<h2 id="section1">ISA ê³„ì¢Œ, ë„ëŒ€ì²´ ì™œ í•„ìˆ˜ì¸ê°€?</h2>
<p><span style="background-color:#fff3cd; padding:2px 6px; border-radius:6px;"><b>ISA ê³„ì¢Œ</b></span>ëŠ” í•˜ë‚˜ì˜ í†µì¥ì—ì„œ ì£¼ì‹, ETF ë“±ì„ êµ´ë¦´ ìˆ˜ ìˆëŠ” ë§ŒëŠ¥ í†µì¥ì…ë‹ˆë‹¤.</p>
<h3>ì†ì‹¤ì€ ë¹¼ê³  ì´ìµì—ë§Œ ê³¼ì„¸</h3>
<p>ìˆ˜ìˆ˜ë£Œì™€ ì„¸ê¸ˆì„ íšê¸°ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ì ˆì„¸ ë¬´ê¸°ì…ë‹ˆë‹¤.</p>
<div style="text-align:center; margin:34px 0;">
    <a href="https://www.coupang.com" class="cta-btn">ğŸ’° ë‚´ ì ˆì„¸ ê¸ˆì•¡ 30ì´ˆ ê³„ì‚°í•˜ê¸° â€º</a>
</div>
<h2 id="section2">ì¤‘ê°œí˜• ISA vs ì‹ íƒí˜•/ì¼ì„í˜• ì°¨ì´ì </h2>
<p>2021ë…„ ë„ì…ëœ <b>ì¤‘ê°œí˜• ISA</b>ëŠ” íˆ¬ììê°€ ì§ì ‘ ìš´ìš©í•  ìˆ˜ ìˆì–´ ìµœê·¼ ê°€ì…ìì˜ ëŒ€ë‹¤ìˆ˜ê°€ ì„ íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<h2 id="section3">âš ï¸ 3ë…„ ì˜ë¬´ ê°€ì… ê¸°ê°„ì˜ í•¨ì •</h2>
<p>í˜œíƒì„ ë°›ìœ¼ë ¤ë©´ 3ë…„ ìœ ì§€ê°€ í•„ìˆ˜ì„ì„ ê¼­ ê¸°ì–µí•˜ì„¸ìš”.</p>`;
        }
        init();
    </script>
</body>

</html>
